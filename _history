{"entries":[{"timestamp":1761834250500,"editorVersion":"7.1.31","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":182,"diffs":[[1,"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":120,"diffs":[[1,""]]},{"start1":1,"length1":2865,"diffs":[[1,""]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":75,"length1":105,"diffs":[[1,"        \"core\": \"*\"\n"]]},{"start1":186,"length1":31,"diffs":[[1,"    \"additionalFilePaths\": []\n"]]}]}]},{"timestamp":1761834269424,"editorVersion":"7.1.31","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":186,"length1":0,"diffs":[[1,"let leftMin = 1023\nlet leftMax = 0\nlet rightMin = 1023\nlet rightMax = 0\n\n"]]},{"start1":314,"length1":43,"diffs":[[1,"let Kp = 20            // Regelverstärkung\n"]]},{"start1":508,"length1":22,"diffs":[[1,"    calibrated = false\n"]]},{"start1":559,"length1":22,"diffs":[[1,"\n    leftMin = 1023\n    rightMin = 1023\n    leftMax = 0\n    rightMax = 0\n\n    let start = control.millis()\n    while (control.millis() - start < 4000) {\n        let l = maqueen.readPatrol(maqueen.Patrol.Left)\n        let r = maqueen.readPatrol(maqueen.Patrol.Right)\n\n        // bei Maqueen-Sensoren: 0 = schwarz, 1 = weiß (digital)\n        if (l < leftMin) leftMin = l\n        if (l > leftMax) leftMax = l\n        if (r < rightMin) rightMin = r\n        if (r > rightMax) rightMax = r\n        basic.pause(20)\n    }\n\n    calibrated = true\n"]]},{"start1":1964,"length1":74,"diffs":[[1,""]]},{"start1":2143,"length1":52,"diffs":[[1,"        // Linienverfolgung\n"]]},{"start1":2196,"length1":206,"diffs":[[1,"            let leftVal = maqueen.readPatrol(maqueen.Patrol.Left)\n            let rightVal = maqueen.readPatrol(maqueen.Patrol.Right)\n"]]},{"start1":2331,"length1":560,"diffs":[[1,"            // Schwarze Linie = 0, weiße Fläche = 1\n            let error = rightVal - leftVal\n"]]},{"start1":2466,"length1":0,"diffs":[[1,"\n"]]},{"start1":2690,"length1":0,"diffs":[[1,"            // Motorsteuerung (CW = vorwärts)\n"]]},{"start1":2963,"length1":20,"diffs":[[1,"    basic.pause(10)\n"]]}]}]},{"timestamp":1761835453448,"editorVersion":"7.1.31","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":18558,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block><block type=\"device_forever\" x=\"205\" y=\"0\"></block></xml>"]]}]}]},{"timestamp":1761835603466,"editorVersion":"7.1.31","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":845,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"=e8ZJ?q/=nwwS:3#S8D%\">running</variable><variable id=\"vd!G?jMnBq!4d2E%cD[0\">calibrated</variable><variable id=\"rcGa*)PQlVq5oNaIze*e\">obstacle</variable><variable id=\"!0lnGyDQf){|WIDT~Sr%\">distance</variable><variable id=\"7738hQOsV%fqL:~*@dMF\">stopDistance</variable><variable id=\"K(7HOK4k^:_%zo!Z7hZK\">leftBright</variable><variable id=\"St%!a|:6^Zk1XR=8}dHN\">rightBright</variable><variable id=\"Bn8s@m#zA!WBz+Vr{kH3\">error</variable><variable id=\"PiSM1,sy/9olV4xM99,f\">correction</variable><variable id=\":-sx-bkP4ich4^Ej#d[V\">Kp</variable><variable id=\"/g2_`;iV8@-wSU`{wF}K\">leftSpeed</variable><variable id=\"Z{RROaeoha7=8_{Z?N{3\">baseSpeed</variable><variable id=\"umrX,2JcxxWV$;Ad~N0]\">rightSpeed</variable></variables><comment x=\"0\" y=\"0\" w=\"480\" h=\"120\">\n"]]},{"start1":911,"length1":52,"diffs":[[1,"</comment><comment x=\"0\" y=\"0\" w=\"400\" h=\"120\">\n"]]},{"start1":1000,"length1":17562,"diffs":[[1,"</comment><block type=\"device_button_event\" x=\"10\" y=\"10\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Stopp-Distanz in cm\n---------- Kalibrierung ----------</comment><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"=e8ZJ?q/=nwwS:3#S8D%\">running</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vd!G?jMnBq!4d2E%cD[0\">calibrated</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"device_print_message\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">CAL</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Yes</field></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"10\" y=\"10\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- Start / Stopp ----------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vd!G?jMnBq!4d2E%cD[0\">calibrated</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"=e8ZJ?q/=nwwS:3#S8D%\">running</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"=e8ZJ?q/=nwwS:3#S8D%\">running</field></block></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"=e8ZJ?q/=nwwS:3#S8D%\">running</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"rcGa*)PQlVq5oNaIze*e\">obstacle</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Triangle</field></block></next></block></statement><statement name=\"ELSE\"><block type=\"maqueen_motorStop\"><field name=\"motors\">maqueen.Motors.All</field><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Square</field></block></next></block></statement></block></next></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">NoCal</field></shadow></value></block></statement></block></statement></block><block type=\"device_forever\" x=\"10\" y=\"10\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- Hauptloop ----------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"=e8ZJ?q/=nwwS:3#S8D%\">running</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vd!G?jMnBq!4d2E%cD[0\">calibrated</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"!0lnGyDQf){|WIDT~Sr%\">distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"maqueen_ultrasonic\"><field name=\"unit\">maqueen.DistanceUnit.Centimeters</field></block></value><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Hindernis erkannt?</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"!0lnGyDQf){|WIDT~Sr%\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"!0lnGyDQf){|WIDT~Sr%\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7738hQOsV%fqL:~*@dMF\">stopDistance</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"rcGa*)PQlVq5oNaIze*e\">obstacle</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"rcGa*)PQlVq5oNaIze*e\">obstacle</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"maqueen_motorStop\"><field name=\"motors\">maqueen.Motors.All</field><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.No</field><next><block type=\"device_play_note\"><value name=\"note\"><shadow type=\"device_note\"><field name=\"name\">523</field></shadow></value><value name=\"duration\"><shadow type=\"device_beat\"><field name=\"fraction\">BeatFraction.Quarter</field></shadow></value></block></next></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"rcGa*)PQlVq5oNaIze*e\">obstacle</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"!0lnGyDQf){|WIDT~Sr%\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7738hQOsV%fqL:~*@dMF\">stopDistance</field></block></value></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"rcGa*)PQlVq5oNaIze*e\">obstacle</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Triangle</field></block></next></block></statement><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">Linienverfolgung mit Unterboden-Sensoren</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"rcGa*)PQlVq5oNaIze*e\">obstacle</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"K(7HOK4k^:_%zo!Z7hZK\">leftBright</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"maqueen_readPatrol\"><field name=\"patrol\">maqueen.Patrol.PatrolLeft</field><field name=\"brightness\">maqueen.Brightness.Bright</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"St%!a|:6^Zk1XR=8}dHN\">rightBright</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"maqueen_readPatrol\"><field name=\"patrol\">maqueen.Patrol.PatrolRight</field><field name=\"brightness\">maqueen.Brightness.Bright</field></block></value><next><block type=\"controls_if\"><mutation elseif=\"1\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"K(7HOK4k^:_%zo!Z7hZK\">leftBright</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"St%!a|:6^Zk1XR=8}dHN\">rightBright</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Bn8s@m#zA!WBz+Vr{kH3\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Linie unter linkem Sensor → nach rechts korrigieren</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.East</field></shadow></value></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"K(7HOK4k^:_%zo!Z7hZK\">leftBright</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"St%!a|:6^Zk1XR=8}dHN\">rightBright</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Bn8s@m#zA!WBz+Vr{kH3\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Linie unter rechtem Sensor → nach links korrigieren</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.West</field></shadow></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Bn8s@m#zA!WBz+Vr{kH3\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Geradeaus</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.North</field></shadow></value></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"PiSM1,sy/9olV4xM99,f\">correction</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\":-sx-bkP4ich4^Ej#d[V\">Kp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Bn8s@m#zA!WBz+Vr{kH3\">error</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/g2_`;iV8@-wSU`{wF}K\">leftSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z{RROaeoha7=8_{Z?N{3\">baseSpeed</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"PiSM1,sy/9olV4xM99,f\">correction</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"umrX,2JcxxWV$;Ad~N0]\">rightSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z{RROaeoha7=8_{Z?N{3\">baseSpeed</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"PiSM1,sy/9olV4xM99,f\">correction</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/g2_`;iV8@-wSU`{wF}K\">leftSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_constrain_value\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/g2_`;iV8@-wSU`{wF}K\">leftSpeed</field></block></value><value name=\"low\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"high\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"umrX,2JcxxWV$;Ad~N0]\">rightSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_constrain_value\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"umrX,2JcxxWV$;Ad~N0]\">rightSpeed</field></block></value><value name=\"low\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"high\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"maqueen_motorRun\"><field name=\"index\">maqueen.Motors.M1</field><field name=\"direction\">maqueen.Dir.CW</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/g2_`;iV8@-wSU`{wF}K\">leftSpeed</field></block></value><next><block type=\"maqueen_motorRun\"><field name=\"index\">maqueen.Motors.M2</field><field name=\"direction\">maqueen.Dir.CW</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"umrX,2JcxxWV$;Ad~N0]\">rightSpeed</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"maqueen_motorStop\"><field name=\"motors\">maqueen.Motors.All</field></block></statement><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">20</field></shadow></value></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"10\" y=\"10\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Z{RROaeoha7=8_{Z?N{3\">baseSpeed</field><comment pinned=\"false\" h=\"80\" w=\"160\">Grundgeschwindigkeit (0–255)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">60</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\":-sx-bkP4ich4^Ej#d[V\">Kp</field><comment pinned=\"false\" h=\"80\" w=\"160\">Regelverstärkung</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7738hQOsV%fqL:~*@dMF\">stopDistance</field><comment pinned=\"false\" h=\"80\" w=\"160\">Stopp-Distanz in cm</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">15</field></shadow></value></block></next></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":168,"diffs":[[1,"// Calliope Mini V3 + MotionKit V2 – Linefollower mit Ultraschall-Autostopp\n// Tasten: A = Kalibrieren, B = Start/Stopp\n"]]},{"start1":141,"length1":0,"diffs":[[1,"let calibrated = false\n"]]},{"start1":186,"length1":287,"diffs":[[1,"let baseSpeed = 60     // Grundgeschwindigkeit (0–255)\nlet Kp = 25            // Regelverstärkung\nlet stopDistance = 15  // Stopp-Distanz in cm\n"]]},{"start1":331,"length1":38,"diffs":[[1,"// ---------- Kalibrierung ----------\n"]]},{"start1":415,"length1":153,"diffs":[[1,"    running = false\n    calibrated = true\n    basic.showString(\"CAL\")\n    basic.pause(1000)\n    basic.showIcon(IconNames.Yes)\n})\n\n// ---------- Start / Stopp ----------\ninput.onButtonPressed(Button.B, function () {\n    if (calibrated) {\n        running = !running\n        if (running) {\n            obstacle = false\n            basic.showIcon(IconNames.Triangle)\n        } else {\n            maqueen.motorStop(maqueen.Motors.All)\n            basic.showIcon(IconNames.Square)\n        }\n"]]},{"start1":913,"length1":134,"diffs":[[1,"        basic.showString(\"NoCal\")\n"]]},{"start1":957,"length1":342,"diffs":[[1,"// ---------- Hauptloop ----------\n"]]},{"start1":1020,"length1":19,"diffs":[[1,"    if (running && calibrated) {\n"]]},{"start1":1130,"length1":37,"diffs":[[1,"        // Hindernis erkannt?\n"]]},{"start1":1330,"length1":50,"diffs":[[1,""]]},{"start1":1541,"length1":56,"diffs":[[1,""]]},{"start1":1617,"length1":35,"diffs":[[1,""]]},{"start1":1628,"length1":36,"diffs":[[1,"        // Linienverfolgung mit Unterboden-Sensoren\n"]]},{"start1":1911,"length1":0,"diffs":[[1,"\n"]]},{"start1":1985,"length1":59,"diffs":[[1,"                // Linie unter linkem Sensor → nach rechts korrigieren\n"]]},{"start1":2132,"length1":51,"diffs":[[1,""]]},{"start1":2185,"length1":59,"diffs":[[1,"                // Linie unter rechtem Sensor → nach links korrigieren\n"]]},{"start1":2331,"length1":380,"diffs":[[1,""]]},{"start1":2352,"length1":42,"diffs":[[1,"                // Geradeaus\n"]]},{"start1":2457,"length1":51,"diffs":[[1,""]]},{"start1":2472,"length1":32,"diffs":[[1,""]]}]}]},{"timestamp":1761836180186,"editorVersion":"7.1.31","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":21892,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"=e8ZJ?q/=nwwS:3#S8D%\">running</variable><variable id=\"vd!G?jMnBq!4d2E%cD[0\">calibrated</variable><variable id=\"rcGa*)PQlVq5oNaIze*e\">obstacle</variable><variable id=\"!0lnGyDQf){|WIDT~Sr%\">distance</variable><variable id=\"7738hQOsV%fqL:~*@dMF\">stopDistance</variable><variable id=\"K(7HOK4k^:_%zo!Z7hZK\">leftBright</variable><variable id=\"St%!a|:6^Zk1XR=8}dHN\">rightBright</variable><variable id=\"Bn8s@m#zA!WBz+Vr{kH3\">error</variable><variable id=\"PiSM1,sy/9olV4xM99,f\">correction</variable><variable id=\":-sx-bkP4ich4^Ej#d[V\">Kp</variable><variable id=\"/g2_`;iV8@-wSU`{wF}K\">leftSpeed</variable><variable id=\"Z{RROaeoha7=8_{Z?N{3\">baseSpeed</variable><variable id=\"umrX,2JcxxWV$;Ad~N0]\">rightSpeed</variable></variables><comment x=\"2227.25\" y=\"20\" w=\"480\" h=\"120\">\nCalliope Mini V3 + MotionKit V2 – Linefollower mit Ultraschall-Autostopp\n</comment><comment x=\"20\" y=\"2093\" w=\"400\" h=\"120\">\nTasten: A = Kalibrieren, B = Start/Stopp\n</comment><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Z{RROaeoha7=8_{Z?N{3\">baseSpeed</field><comment pinned=\"false\" h=\"80\" w=\"160\">Grundgeschwindigkeit (0–255)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">60</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\":-sx-bkP4ich4^Ej#d[V\">Kp</field><comment pinned=\"false\" h=\"80\" w=\"160\">Regelverstärkung</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7738hQOsV%fqL:~*@dMF\">stopDistance</field><comment pinned=\"false\" h=\"80\" w=\"160\">Stopp-Distanz in cm</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">15</field></shadow></value></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"400\" y=\"20\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Stopp-Distanz in cm\n---------- Kalibrierung ----------</comment><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"=e8ZJ?q/=nwwS:3#S8D%\">running</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vd!G?jMnBq!4d2E%cD[0\">calibrated</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"device_print_message\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">CAL</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Yes</field></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"806\" y=\"20\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- Start / Stopp ----------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vd!G?jMnBq!4d2E%cD[0\">calibrated</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"=e8ZJ?q/=nwwS:3#S8D%\">running</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"=e8ZJ?q/=nwwS:3#S8D%\">running</field></block></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"=e8ZJ?q/=nwwS:3#S8D%\">running</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"rcGa*)PQlVq5oNaIze*e\">obstacle</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Triangle</field></block></next></block></statement><statement name=\"ELSE\"><block type=\"maqueen_motorStop\"><field name=\"motors\">maqueen.Motors.All</field><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Square</field></block></next></block></statement></block></next></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">NoCal</field></shadow></value></block></statement></block></statement></block><block type=\"device_forever\" x=\"1293\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- Hauptloop ----------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"=e8ZJ?q/=nwwS:3#S8D%\">running</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vd!G?jMnBq!4d2E%cD[0\">calibrated</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"!0lnGyDQf){|WIDT~Sr%\">distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"maqueen_ultrasonic\"><field name=\"unit\">maqueen.DistanceUnit.Centimeters</field></block></value><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Hindernis erkannt?</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"!0lnGyDQf){|WIDT~Sr%\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"!0lnGyDQf){|WIDT~Sr%\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7738hQOsV%fqL:~*@dMF\">stopDistance</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"rcGa*)PQlVq5oNaIze*e\">obstacle</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"rcGa*)PQlVq5oNaIze*e\">obstacle</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"maqueen_motorStop\"><field name=\"motors\">maqueen.Motors.All</field><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.No</field><next><block type=\"device_play_note\"><value name=\"note\"><shadow type=\"device_note\"><field name=\"name\">523</field></shadow></value><value name=\"duration\"><shadow type=\"device_beat\"><field name=\"fraction\">BeatFraction.Quarter</field></shadow></value></block></next></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"rcGa*)PQlVq5oNaIze*e\">obstacle</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"!0lnGyDQf){|WIDT~Sr%\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7738hQOsV%fqL:~*@dMF\">stopDistance</field></block></value></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"rcGa*)PQlVq5oNaIze*e\">obstacle</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Triangle</field></block></next></block></statement><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">Linienverfolgung mit Unterboden-Sensoren</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"rcGa*)PQlVq5oNaIze*e\">obstacle</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"K(7HOK4k^:_%zo!Z7hZK\">leftBright</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"maqueen_readPatrol\"><field name=\"patrol\">maqueen.Patrol.PatrolLeft</field><field name=\"brightness\">maqueen.Brightness.Bright</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"St%!a|:6^Zk1XR=8}dHN\">rightBright</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"maqueen_readPatrol\"><field name=\"patrol\">maqueen.Patrol.PatrolRight</field><field name=\"brightness\">maqueen.Brightness.Bright</field></block></value><next><block type=\"controls_if\"><mutation elseif=\"1\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"K(7HOK4k^:_%zo!Z7hZK\">leftBright</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"St%!a|:6^Zk1XR=8}dHN\">rightBright</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Bn8s@m#zA!WBz+Vr{kH3\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Linie unter linkem Sensor → nach rechts korrigieren</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.East</field></shadow></value></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"K(7HOK4k^:_%zo!Z7hZK\">leftBright</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"St%!a|:6^Zk1XR=8}dHN\">rightBright</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Bn8s@m#zA!WBz+Vr{kH3\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Linie unter rechtem Sensor → nach links korrigieren</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.West</field></shadow></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Bn8s@m#zA!WBz+Vr{kH3\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Geradeaus</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.North</field></shadow></value></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"PiSM1,sy/9olV4xM99,f\">correction</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\":-sx-bkP4ich4^Ej#d[V\">Kp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Bn8s@m#zA!WBz+Vr{kH3\">error</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/g2_`;iV8@-wSU`{wF}K\">leftSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z{RROaeoha7=8_{Z?N{3\">baseSpeed</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"PiSM1,sy/9olV4xM99,f\">correction</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"umrX,2JcxxWV$;Ad~N0]\">rightSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z{RROaeoha7=8_{Z?N{3\">baseSpeed</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"PiSM1,sy/9olV4xM99,f\">correction</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/g2_`;iV8@-wSU`{wF}K\">leftSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_constrain_value\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/g2_`;iV8@-wSU`{wF}K\">leftSpeed</field></block></value><value name=\"low\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"high\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"umrX,2JcxxWV$;Ad~N0]\">rightSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_constrain_value\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"umrX,2JcxxWV$;Ad~N0]\">rightSpeed</field></block></value><value name=\"low\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"high\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"maqueen_motorRun\"><field name=\"index\">maqueen.Motors.M1</field><field name=\"direction\">maqueen.Dir.CW</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/g2_`;iV8@-wSU`{wF}K\">leftSpeed</field></block></value><next><block type=\"maqueen_motorRun\"><field name=\"index\">maqueen.Motors.M2</field><field name=\"direction\">maqueen.Dir.CW</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"umrX,2JcxxWV$;Ad~N0]\">rightSpeed</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"maqueen_motorStop\"><field name=\"motors\">maqueen.Motors.All</field></block></statement><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">20</field></shadow></value></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":239,"diffs":[[1,"// Calliope Mini V3 + MotionKit V2 (Maqueen-kompatibel)\n// Linefollower mit Ultraschall-Stopp, Unterbodenbeleuchtung und sanftem Wiederanfahren\n// Taste A = Start/Stop\n\nlet running = false\nlet obstacle = false\n\nlet baseSpeed = 60        // Grundgeschwindigkeit (0–255)\nlet Kp = 25               // Regelverstärkung\nlet stopDistance = 15     // Stopp-Distanz in cm\nlet accelStep = 10        // Schrittgröße beim Beschleunigen\nlet accelDelay = 100      // Zeit zwischen Beschleunigungsschritten (ms)\n\n"]]},{"start1":583,"length1":25,"diffs":[[1,"    running = !running\n"]]},{"start1":693,"length1":51,"diffs":[[1,"        maqueen.setColor(0x00ff00) // Grün\n"]]},{"start1":836,"length1":55,"diffs":[[1,"        maqueen.setColor(0x000000) // LEDs aus\n"]]},{"start1":892,"length1":0,"diffs":[[1,"\n"]]},{"start1":940,"length1":45,"diffs":[[1,"function smoothStart(targetSpeed: number) {\n"]]},{"start1":1195,"length1":425,"diffs":[[1,"\n"]]},{"start1":1282,"length1":72,"diffs":[[1,"        let distance = maqueen.ultrasonic(maqueen.DistanceUnit.Centimeters)\n\n"]]},{"start1":1451,"length1":31,"diffs":[[1,"            if (!obstacle) {\n"]]},{"start1":1566,"length1":66,"diffs":[[1,"                maqueen.setColor(0xff0000) // Rot\n"]]},{"start1":1661,"length1":70,"diffs":[[1,"                music.playTone(Note.C5, music.beat(BeatFraction.Quarter))\n"]]},{"start1":2004,"length1":0,"diffs":[[1,"\n"]]},{"start1":2041,"length1":273,"diffs":[[1,"        if (!obstacle) {\n            let leftBright = maqueen.readPatrol(maqueen.Patrol.PatrolLeft, maqueen.Brightness.Bright)\n            let rightBright = maqueen.readPatrol(maqueen.Patrol.PatrolRight, maqueen.Brightness.Bright)\n            let error = 0\n\n            if (leftBright && !rightBright) {\n"]]},{"start1":2480,"length1":122,"diffs":[[1,"                maqueen.setColor(0x0000ff) // Blau\n            } else if (!leftBright && rightBright) {\n"]]},{"start1":2718,"length1":125,"diffs":[[1,"                maqueen.setColor(0xffff00) // Gelb\n            } else if (!leftBright && !rightBright) {\n"]]},{"start1":2900,"length1":118,"diffs":[[1,"                basic.showIcon(IconNames.Question)\n                maqueen.setColor(0xff00ff) // Lila\n"]]},{"start1":3237,"length1":67,"diffs":[[1,"                maqueen.setColor(0x00ff00) // Grün\n"]]},{"start1":3302,"length1":0,"diffs":[[1,"\n"]]},{"start1":3335,"length1":131,"diffs":[[1,"            let correction = Kp * error\n            let leftSpeed = baseSpeed - correction\n            let rightSpeed = baseSpeed + correction\n\n"]]},{"start1":3597,"length1":0,"diffs":[[1,"\n"]]},{"start1":3824,"length1":0,"diffs":[[1,"\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":271,"length1":35,"diffs":[[1,"    \"preferredEditor\": \"tsprj\"\n"]]}]}]},{"timestamp":1761836239709,"editorVersion":"7.1.31","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":897,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\",RJskyl*[lzEXaOG49{B\">running</variable><variable id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</variable><variable id=\"jv|W^Q)b1=VfHF0h7-Uq\">distance</variable><variable id=\"9xTf6/1UN{TIaEsV^=GW\">stopDistance</variable><variable id=\"aPRz[Ub/h7^3O(9#+0Rz\">baseSpeed</variable><variable id=\"i2Age]X{ZM|9AxFW/H+=\">leftBright</variable><variable id=\"vb6x/:NnA1:@yEY:c$w;\">rightBright</variable><variable id=\"r.d@O*@_BKT%L$L5-2:}\">error</variable><variable id=\"l!8Mtl):WPk_~dAc]uub\">correction</variable><variable id=\"bDoQ#(sEP^:*3WHlsUV7\">Kp</variable><variable id=\"/I/bf;l@[nm$}P[sk63N\">leftSpeed</variable><variable id=\"$I@7f)%f5Sgq?.(Kq[Gk\">rightSpeed</variable><variable id=\"WX6m/Y0@Ur+Tk]gyCL5C\">accelStep</variable><variable id=\"N}v$iLITi6b$]+3a:}x(\">accelDelay</variable></variables><comment x=\"2471.109375\" y=\"20\" w=\"480\" h=\"120\">\n"]]},{"start1":958,"length1":51,"diffs":[[1,"</comment><comment x=\"20\" y=\"2643\" w=\"480\" h=\"120\">\n"]]},{"start1":1095,"length1":53,"diffs":[[1,"</comment><comment x=\"545\" y=\"2643\" w=\"200\" h=\"120\">\n"]]},{"start1":1169,"length1":20718,"diffs":[[1,"</comment><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"aPRz[Ub/h7^3O(9#+0Rz\">baseSpeed</field><comment pinned=\"false\" h=\"80\" w=\"160\">Grundgeschwindigkeit (0–255)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">60</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"bDoQ#(sEP^:*3WHlsUV7\">Kp</field><comment pinned=\"false\" h=\"80\" w=\"160\">Regelverstärkung</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"9xTf6/1UN{TIaEsV^=GW\">stopDistance</field><comment pinned=\"false\" h=\"80\" w=\"160\">Stopp-Distanz in cm</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">15</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"WX6m/Y0@Ur+Tk]gyCL5C\">accelStep</field><comment pinned=\"false\" h=\"80\" w=\"160\">Schrittgröße beim Beschleunigen</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"N}v$iLITi6b$]+3a:}x(\">accelDelay</field><comment pinned=\"false\" h=\"80\" w=\"160\">Zeit zwischen Beschleunigungsschritten (ms)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"400\" y=\"20\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Zeit zwischen Beschleunigungsschritten (ms)\n---------- Start / Stop ----------</comment><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\",RJskyl*[lzEXaOG49{B\">running</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",RJskyl*[lzEXaOG49{B\">running</field></block></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",RJskyl*[lzEXaOG49{B\">running</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Triangle</field><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Grün</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0x00ff00</field></shadow></value></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"maqueen_motorStop\"><field name=\"motors\">maqueen.Motors.All</field><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Square</field><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">LEDs aus</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0x000000</field></shadow></value></block></next></block></next></block></statement></block></next></block></statement></block><block type=\"device_forever\" x=\"870\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- Hauptprogramm ----------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",RJskyl*[lzEXaOG49{B\">running</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"jv|W^Q)b1=VfHF0h7-Uq\">distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"maqueen_ultrasonic\"><field name=\"unit\">maqueen.DistanceUnit.Centimeters</field></block></value><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">--- Hindernis erkannt ---</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"jv|W^Q)b1=VfHF0h7-Uq\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"jv|W^Q)b1=VfHF0h7-Uq\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"9xTf6/1UN{TIaEsV^=GW\">stopDistance</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"maqueen_motorStop\"><field name=\"motors\">maqueen.Motors.All</field><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Rot</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0xff0000</field></shadow></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.No</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><next><block type=\"device_play_note\"><value name=\"note\"><shadow type=\"device_note\"><field name=\"name\">523</field></shadow></value><value name=\"duration\"><shadow type=\"device_beat\"><field name=\"fraction\">BeatFraction.Quarter</field></shadow></value></block></next></block></next></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"jv|W^Q)b1=VfHF0h7-Uq\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"9xTf6/1UN{TIaEsV^=GW\">stopDistance</field></block></value></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field><comment pinned=\"false\" h=\"80\" w=\"160\">--- Weg frei: sanftes Wiederanfahren ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Triangle</field><next><block type=\"function_call\"><mutation name=\"smoothStart\" functionid=\"TS5@|tB;2k=3Z(d0;8l*\"><arg name=\"targetSpeed\" id=\"wplubuywesm098nopasz\" type=\"number\"></arg></mutation><value name=\"wplubuywesm098nopasz\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aPRz[Ub/h7^3O(9#+0Rz\">baseSpeed</field></block></value></block></next></block></next></block></statement><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">--- Linienverfolgung ---</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"i2Age]X{ZM|9AxFW/H+=\">leftBright</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"maqueen_readPatrol\"><field name=\"patrol\">maqueen.Patrol.PatrolLeft</field><field name=\"brightness\">maqueen.Brightness.Bright</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vb6x/:NnA1:@yEY:c$w;\">rightBright</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"maqueen_readPatrol\"><field name=\"patrol\">maqueen.Patrol.PatrolRight</field><field name=\"brightness\">maqueen.Brightness.Bright</field></block></value><next><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"i2Age]X{ZM|9AxFW/H+=\">leftBright</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vb6x/:NnA1:@yEY:c$w;\">rightBright</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"r.d@O*@_BKT%L$L5-2:}\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Linie unter linkem Sensor → nach rechts</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.East</field></shadow></value><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Blau</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0x0000ff</field></shadow></value></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"i2Age]X{ZM|9AxFW/H+=\">leftBright</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vb6x/:NnA1:@yEY:c$w;\">rightBright</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"r.d@O*@_BKT%L$L5-2:}\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Linie unter rechtem Sensor → nach links</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.West</field></shadow></value><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Gelb</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0xffff00</field></shadow></value></block></next></block></next></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"i2Age]X{ZM|9AxFW/H+=\">leftBright</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vb6x/:NnA1:@yEY:c$w;\">rightBright</field></block></value></block></value></block></value><statement name=\"DO2\"><block type=\"variables_set\"><field name=\"VAR\" id=\"r.d@O*@_BKT%L$L5-2:}\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Linie verloren → langsam suchen</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Confused</field><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Lila</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0xff00ff</field></shadow></value><next><block type=\"maqueen_motorRun\"><field name=\"index\">maqueen.Motors.All</field><field name=\"direction\">maqueen.Dir.CW</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">30</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"r.d@O*@_BKT%L$L5-2:}\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Beide hell → Geradeaus</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.North</field></shadow></value><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Grün</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0x00ff00</field></shadow></value></block></next></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"l!8Mtl):WPk_~dAc]uub\">correction</field><comment pinned=\"false\" h=\"80\" w=\"160\">--- Regelung ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"bDoQ#(sEP^:*3WHlsUV7\">Kp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"r.d@O*@_BKT%L$L5-2:}\">error</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/I/bf;l@[nm$}P[sk63N\">leftSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aPRz[Ub/h7^3O(9#+0Rz\">baseSpeed</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"l!8Mtl):WPk_~dAc]uub\">correction</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$I@7f)%f5Sgq?.(Kq[Gk\">rightSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aPRz[Ub/h7^3O(9#+0Rz\">baseSpeed</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"l!8Mtl):WPk_~dAc]uub\">correction</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/I/bf;l@[nm$}P[sk63N\">leftSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_constrain_value\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/I/bf;l@[nm$}P[sk63N\">leftSpeed</field></block></value><value name=\"low\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"high\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$I@7f)%f5Sgq?.(Kq[Gk\">rightSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_constrain_value\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"$I@7f)%f5Sgq?.(Kq[Gk\">rightSpeed</field></block></value><value name=\"low\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"high\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"maqueen_motorRun\"><field name=\"index\">maqueen.Motors.M1</field><field name=\"direction\">maqueen.Dir.CW</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/I/bf;l@[nm$}P[sk63N\">leftSpeed</field></block></value><next><block type=\"maqueen_motorRun\"><field name=\"index\">maqueen.Motors.M2</field><field name=\"direction\">maqueen.Dir.CW</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"$I@7f)%f5Sgq?.(Kq[Gk\">rightSpeed</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"maqueen_motorStop\"><field name=\"motors\">maqueen.Motors.All</field></block></statement><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">20</field></shadow></value></block></next></block></statement></block><block type=\"function_definition\" x=\"1805\" y=\"20\"><mutation name=\"smoothStart\" functionid=\"TS5@|tB;2k=3Z(d0;8l*\"><arg name=\"targetSpeed\" id=\"wplubuywesm098nopasz\" type=\"number\"></arg></mutation><field name=\"function_name\">smoothStart</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- Sanftes Beschleunigen ----------</comment><value name=\"wplubuywesm098nopasz\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">targetSpeed</field></block></value><statement name=\"STACK\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"for (let speed = 0; speed &lt;= targetSpeed; speed += accelStep) {\" line1=\"        maqueen.motorRun(maqueen.Motors.All, maqueen.Dir.CW, speed)\" line2=\"        maqueen.setColor(0x00ff00)\" line3=\"        basic.pause(accelDelay)\" line4=\"    }\" numlines=\"5\"></mutation></block></statement></block></xml>"]]}]}]},{"timestamp":1761839084641,"editorVersion":"7.1.31","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":923,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\",RJskyl*[lzEXaOG49{B\">running</variable><variable id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</variable><variable id=\"jv|W^Q)b1=VfHF0h7-Uq\">distance</variable><variable id=\"9xTf6/1UN{TIaEsV^=GW\">stopDistance</variable><variable id=\"aPRz[Ub/h7^3O(9#+0Rz\">baseSpeed</variable><variable id=\"i2Age]X{ZM|9AxFW/H+=\">leftBright</variable><variable id=\"vb6x/:NnA1:@yEY:c$w;\">rightBright</variable><variable id=\"r.d@O*@_BKT%L$L5-2:}\">error</variable><variable id=\"l!8Mtl):WPk_~dAc]uub\">correction</variable><variable id=\"bDoQ#(sEP^:*3WHlsUV7\">Kp</variable><variable id=\"/I/bf;l@[nm$}P[sk63N\">leftSpeed</variable><variable id=\"$I@7f)%f5Sgq?.(Kq[Gk\">rightSpeed</variable><variable id=\"WX6m/Y0@Ur+Tk]gyCL5C\">accelStep</variable><variable id=\"N}v$iLITi6b$]+3a:}x(\">accelDelay</variable></variables><comment x=\"2451\" y=\"0\" w=\"480\" h=\"120\">\n"]]},{"start1":950,"length1":77,"diffs":[[1,"</comment><comment x=\"0\" y=\"2623\" w=\"480\" h=\"120\">\n"]]},{"start1":1086,"length1":79,"diffs":[[1,"</comment><comment x=\"525\" y=\"2623\" w=\"200\" h=\"120\">\n"]]},{"start1":1160,"length1":25736,"diffs":[[1,"</comment><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"aPRz[Ub/h7^3O(9#+0Rz\">baseSpeed</field><comment pinned=\"false\" h=\"80\" w=\"160\">Grundgeschwindigkeit (0–255)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">60</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"bDoQ#(sEP^:*3WHlsUV7\">Kp</field><comment pinned=\"false\" h=\"80\" w=\"160\">Regelverstärkung</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"9xTf6/1UN{TIaEsV^=GW\">stopDistance</field><comment pinned=\"false\" h=\"80\" w=\"160\">Stopp-Distanz in cm</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">15</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"WX6m/Y0@Ur+Tk]gyCL5C\">accelStep</field><comment pinned=\"false\" h=\"80\" w=\"160\">Schrittgröße beim Beschleunigen</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"N}v$iLITi6b$]+3a:}x(\">accelDelay</field><comment pinned=\"false\" h=\"80\" w=\"160\">Zeit zwischen Beschleunigungsschritten (ms)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"380\" y=\"0\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Zeit zwischen Beschleunigungsschritten (ms)\n---------- Start / Stop ----------</comment><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\",RJskyl*[lzEXaOG49{B\">running</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",RJskyl*[lzEXaOG49{B\">running</field></block></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",RJskyl*[lzEXaOG49{B\">running</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Triangle</field><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Grün</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0x00ff00</field></shadow></value></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"maqueen_motorStop\"><field name=\"motors\">maqueen.Motors.All</field><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Square</field><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">LEDs aus</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0x000000</field></shadow></value></block></next></block></next></block></statement></block></next></block></statement></block><block type=\"device_forever\" x=\"850\" y=\"0\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- Hauptprogramm ----------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",RJskyl*[lzEXaOG49{B\">running</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"jv|W^Q)b1=VfHF0h7-Uq\">distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"maqueen_ultrasonic\"><field name=\"unit\">maqueen.DistanceUnit.Centimeters</field></block></value><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">--- Hindernis erkannt ---</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"jv|W^Q)b1=VfHF0h7-Uq\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"jv|W^Q)b1=VfHF0h7-Uq\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"9xTf6/1UN{TIaEsV^=GW\">stopDistance</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"maqueen_motorStop\"><field name=\"motors\">maqueen.Motors.All</field><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Rot</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0xff0000</field></shadow></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.No</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><next><block type=\"device_play_note\"><value name=\"note\"><shadow type=\"device_note\"><field name=\"name\">523</field></shadow></value><value name=\"duration\"><shadow type=\"device_beat\"><field name=\"fraction\">BeatFraction.Quarter</field></shadow></value></block></next></block></next></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"jv|W^Q)b1=VfHF0h7-Uq\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"9xTf6/1UN{TIaEsV^=GW\">stopDistance</field></block></value></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field><comment pinned=\"false\" h=\"80\" w=\"160\">--- Weg frei: sanftes Wiederanfahren ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Triangle</field><next><block type=\"function_call\"><mutation name=\"smoothStart\" functionid=\"TS5@|tB;2k=3Z(d0;8l*\"><arg name=\"targetSpeed\" id=\"wplubuywesm098nopasz\" type=\"number\"></arg></mutation><value name=\"wplubuywesm098nopasz\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aPRz[Ub/h7^3O(9#+0Rz\">baseSpeed</field></block></value></block></next></block></next></block></statement><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">--- Linienverfolgung ---</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"i2Age]X{ZM|9AxFW/H+=\">leftBright</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"maqueen_readPatrol\"><field name=\"patrol\">maqueen.Patrol.PatrolLeft</field><field name=\"brightness\">maqueen.Brightness.Bright</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vb6x/:NnA1:@yEY:c$w;\">rightBright</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"maqueen_readPatrol\"><field name=\"patrol\">maqueen.Patrol.PatrolRight</field><field name=\"brightness\">maqueen.Brightness.Bright</field></block></value><next><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"i2Age]X{ZM|9AxFW/H+=\">leftBright</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vb6x/:NnA1:@yEY:c$w;\">rightBright</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"r.d@O*@_BKT%L$L5-2:}\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Linie unter linkem Sensor → nach rechts</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.East</field></shadow></value><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Blau</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0x0000ff</field></shadow></value></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"i2Age]X{ZM|9AxFW/H+=\">leftBright</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vb6x/:NnA1:@yEY:c$w;\">rightBright</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"r.d@O*@_BKT%L$L5-2:}\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Linie unter rechtem Sensor → nach links</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.West</field></shadow></value><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Gelb</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0xffff00</field></shadow></value></block></next></block></next></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"i2Age]X{ZM|9AxFW/H+=\">leftBright</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vb6x/:NnA1:@yEY:c$w;\">rightBright</field></block></value></block></value></block></value><statement name=\"DO2\"><block type=\"variables_set\"><field name=\"VAR\" id=\"r.d@O*@_BKT%L$L5-2:}\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Linie verloren → langsam suchen</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Confused</field><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Lila</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0xff00ff</field></shadow></value><next><block type=\"maqueen_motorRun\"><field name=\"index\">maqueen.Motors.All</field><field name=\"direction\">maqueen.Dir.CW</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">30</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"r.d@O*@_BKT%L$L5-2:}\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Beide hell → Geradeaus</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.North</field></shadow></value><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Grün</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0x00ff00</field></shadow></value></block></next></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"l!8Mtl):WPk_~dAc]uub\">correction</field><comment pinned=\"false\" h=\"80\" w=\"160\">--- Regelung ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"bDoQ#(sEP^:*3WHlsUV7\">Kp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"r.d@O*@_BKT%L$L5-2:}\">error</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/I/bf;l@[nm$}P[sk63N\">leftSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aPRz[Ub/h7^3O(9#+0Rz\">baseSpeed</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"l!8Mtl):WPk_~dAc]uub\">correction</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$I@7f)%f5Sgq?.(Kq[Gk\">rightSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aPRz[Ub/h7^3O(9#+0Rz\">baseSpeed</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"l!8Mtl):WPk_~dAc]uub\">correction</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/I/bf;l@[nm$}P[sk63N\">leftSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_constrain_value\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/I/bf;l@[nm$}P[sk63N\">leftSpeed</field></block></value><value name=\"low\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"high\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$I@7f)%f5Sgq?.(Kq[Gk\">rightSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_constrain_value\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"$I@7f)%f5Sgq?.(Kq[Gk\">rightSpeed</field></block></value><value name=\"low\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"high\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"maqueen_motorRun\"><field name=\"index\">maqueen.Motors.M1</field><field name=\"direction\">maqueen.Dir.CW</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/I/bf;l@[nm$}P[sk63N\">leftSpeed</field></block></value><next><block type=\"maqueen_motorRun\"><field name=\"index\">maqueen.Motors.M2</field><field name=\"direction\">maqueen.Dir.CW</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"$I@7f)%f5Sgq?.(Kq[Gk\">rightSpeed</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"maqueen_motorStop\"><field name=\"motors\">maqueen.Motors.All</field></block></statement><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">20</field></shadow></value></block></next></block></statement></block><block type=\"function_definition\" x=\"1785\" y=\"0\"><mutation name=\"smoothStart\" functionid=\"TS5@|tB;2k=3Z(d0;8l*\"><arg name=\"targetSpeed\" id=\"wplubuywesm098nopasz\" type=\"number\"></arg></mutation><field name=\"function_name\">smoothStart</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- Sanftes Beschleunigen ----------</comment><value name=\"wplubuywesm098nopasz\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">targetSpeed</field></block></value><statement name=\"STACK\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"for (let speed = 0; speed &lt;= targetSpeed; speed += accelStep) {\" line1=\"        maqueen.motorRun(maqueen.Motors.All, maqueen.Dir.CW, speed)\" line2=\"        maqueen.setColor(0x00ff00)\" line3=\"        basic.pause(accelDelay)\" line4=\"    }\" numlines=\"5\"></mutation></block></statement></block></xml>"]]}]}]},{"timestamp":1761896151274,"editorVersion":"7.1.31","changes":[{"type":"edited","filename":"pxt.json","patch":[{"start1":271,"length1":44,"diffs":[[1,""]]}]},{"type":"added","filename":"test.ts","value":"// Hier kann man Tests durchführen; diese Datei wird nicht kompiliert, wenn dieses Paket als Erweiterung verwendet wird.\n"}]}],"snapshots":[{"timestamp":1761834250499,"editorVersion":"7.1.31","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>","main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"Linefollower\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1761836180186,"editorVersion":"7.1.31","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"=e8ZJ?q/=nwwS:3#S8D%\">running</variable><variable id=\"vd!G?jMnBq!4d2E%cD[0\">calibrated</variable><variable id=\"rcGa*)PQlVq5oNaIze*e\">obstacle</variable><variable id=\"!0lnGyDQf){|WIDT~Sr%\">distance</variable><variable id=\"7738hQOsV%fqL:~*@dMF\">stopDistance</variable><variable id=\"K(7HOK4k^:_%zo!Z7hZK\">leftBright</variable><variable id=\"St%!a|:6^Zk1XR=8}dHN\">rightBright</variable><variable id=\"Bn8s@m#zA!WBz+Vr{kH3\">error</variable><variable id=\"PiSM1,sy/9olV4xM99,f\">correction</variable><variable id=\":-sx-bkP4ich4^Ej#d[V\">Kp</variable><variable id=\"/g2_`;iV8@-wSU`{wF}K\">leftSpeed</variable><variable id=\"Z{RROaeoha7=8_{Z?N{3\">baseSpeed</variable><variable id=\"umrX,2JcxxWV$;Ad~N0]\">rightSpeed</variable></variables><comment x=\"2227.25\" y=\"20\" w=\"480\" h=\"120\">\nCalliope Mini V3 + MotionKit V2 – Linefollower mit Ultraschall-Autostopp\n</comment><comment x=\"20\" y=\"2093\" w=\"400\" h=\"120\">\nTasten: A = Kalibrieren, B = Start/Stopp\n</comment><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Z{RROaeoha7=8_{Z?N{3\">baseSpeed</field><comment pinned=\"false\" h=\"80\" w=\"160\">Grundgeschwindigkeit (0–255)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">60</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\":-sx-bkP4ich4^Ej#d[V\">Kp</field><comment pinned=\"false\" h=\"80\" w=\"160\">Regelverstärkung</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7738hQOsV%fqL:~*@dMF\">stopDistance</field><comment pinned=\"false\" h=\"80\" w=\"160\">Stopp-Distanz in cm</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">15</field></shadow></value></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"400\" y=\"20\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Stopp-Distanz in cm\n---------- Kalibrierung ----------</comment><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"=e8ZJ?q/=nwwS:3#S8D%\">running</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vd!G?jMnBq!4d2E%cD[0\">calibrated</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"device_print_message\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">CAL</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Yes</field></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"806\" y=\"20\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- Start / Stopp ----------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vd!G?jMnBq!4d2E%cD[0\">calibrated</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"=e8ZJ?q/=nwwS:3#S8D%\">running</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"=e8ZJ?q/=nwwS:3#S8D%\">running</field></block></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"=e8ZJ?q/=nwwS:3#S8D%\">running</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"rcGa*)PQlVq5oNaIze*e\">obstacle</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Triangle</field></block></next></block></statement><statement name=\"ELSE\"><block type=\"maqueen_motorStop\"><field name=\"motors\">maqueen.Motors.All</field><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Square</field></block></next></block></statement></block></next></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">NoCal</field></shadow></value></block></statement></block></statement></block><block type=\"device_forever\" x=\"1293\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- Hauptloop ----------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"=e8ZJ?q/=nwwS:3#S8D%\">running</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vd!G?jMnBq!4d2E%cD[0\">calibrated</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"!0lnGyDQf){|WIDT~Sr%\">distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"maqueen_ultrasonic\"><field name=\"unit\">maqueen.DistanceUnit.Centimeters</field></block></value><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Hindernis erkannt?</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"!0lnGyDQf){|WIDT~Sr%\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"!0lnGyDQf){|WIDT~Sr%\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7738hQOsV%fqL:~*@dMF\">stopDistance</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"rcGa*)PQlVq5oNaIze*e\">obstacle</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"rcGa*)PQlVq5oNaIze*e\">obstacle</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"maqueen_motorStop\"><field name=\"motors\">maqueen.Motors.All</field><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.No</field><next><block type=\"device_play_note\"><value name=\"note\"><shadow type=\"device_note\"><field name=\"name\">523</field></shadow></value><value name=\"duration\"><shadow type=\"device_beat\"><field name=\"fraction\">BeatFraction.Quarter</field></shadow></value></block></next></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"rcGa*)PQlVq5oNaIze*e\">obstacle</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"!0lnGyDQf){|WIDT~Sr%\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7738hQOsV%fqL:~*@dMF\">stopDistance</field></block></value></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"rcGa*)PQlVq5oNaIze*e\">obstacle</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Triangle</field></block></next></block></statement><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">Linienverfolgung mit Unterboden-Sensoren</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"rcGa*)PQlVq5oNaIze*e\">obstacle</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"K(7HOK4k^:_%zo!Z7hZK\">leftBright</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"maqueen_readPatrol\"><field name=\"patrol\">maqueen.Patrol.PatrolLeft</field><field name=\"brightness\">maqueen.Brightness.Bright</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"St%!a|:6^Zk1XR=8}dHN\">rightBright</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"maqueen_readPatrol\"><field name=\"patrol\">maqueen.Patrol.PatrolRight</field><field name=\"brightness\">maqueen.Brightness.Bright</field></block></value><next><block type=\"controls_if\"><mutation elseif=\"1\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"K(7HOK4k^:_%zo!Z7hZK\">leftBright</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"St%!a|:6^Zk1XR=8}dHN\">rightBright</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Bn8s@m#zA!WBz+Vr{kH3\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Linie unter linkem Sensor → nach rechts korrigieren</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.East</field></shadow></value></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"K(7HOK4k^:_%zo!Z7hZK\">leftBright</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"St%!a|:6^Zk1XR=8}dHN\">rightBright</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Bn8s@m#zA!WBz+Vr{kH3\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Linie unter rechtem Sensor → nach links korrigieren</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.West</field></shadow></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Bn8s@m#zA!WBz+Vr{kH3\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Geradeaus</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.North</field></shadow></value></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"PiSM1,sy/9olV4xM99,f\">correction</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\":-sx-bkP4ich4^Ej#d[V\">Kp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Bn8s@m#zA!WBz+Vr{kH3\">error</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/g2_`;iV8@-wSU`{wF}K\">leftSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z{RROaeoha7=8_{Z?N{3\">baseSpeed</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"PiSM1,sy/9olV4xM99,f\">correction</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"umrX,2JcxxWV$;Ad~N0]\">rightSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z{RROaeoha7=8_{Z?N{3\">baseSpeed</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"PiSM1,sy/9olV4xM99,f\">correction</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/g2_`;iV8@-wSU`{wF}K\">leftSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_constrain_value\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/g2_`;iV8@-wSU`{wF}K\">leftSpeed</field></block></value><value name=\"low\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"high\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"umrX,2JcxxWV$;Ad~N0]\">rightSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_constrain_value\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"umrX,2JcxxWV$;Ad~N0]\">rightSpeed</field></block></value><value name=\"low\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"high\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"maqueen_motorRun\"><field name=\"index\">maqueen.Motors.M1</field><field name=\"direction\">maqueen.Dir.CW</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/g2_`;iV8@-wSU`{wF}K\">leftSpeed</field></block></value><next><block type=\"maqueen_motorRun\"><field name=\"index\">maqueen.Motors.M2</field><field name=\"direction\">maqueen.Dir.CW</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"umrX,2JcxxWV$;Ad~N0]\">rightSpeed</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"maqueen_motorStop\"><field name=\"motors\">maqueen.Motors.All</field></block></statement><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">20</field></shadow></value></block></next></block></statement></block></xml>","main.ts":"// Calliope Mini V3 + MotionKit V2 (Maqueen-kompatibel)\n// Linefollower mit Ultraschall-Stopp, Unterbodenbeleuchtung und Displayanzeige\n// Tasten: A = Start / Stop\n\nlet running = false\nlet obstacle = false\n\nlet baseSpeed = 60      // Grundgeschwindigkeit (0–255)\nlet Kp = 25             // Regelverstärkung für Kurvensteuerung\nlet stopDistance = 15   // Stopp-Distanz in cm\n\n// ---------- Start / Stop ----------\ninput.onButtonPressed(Button.A, function () {\n    running = !running\n    if (running) {\n        obstacle = false\n        basic.showIcon(IconNames.Triangle)\n    } else {\n        maqueen.motorStop(maqueen.Motors.All)\n        basic.showIcon(IconNames.Square)\n        rgb.setColor(rgb.colors(Black))\n    }\n})\n\n// ---------- Hauptprogramm ----------\nbasic.forever(function () {\n    if (running) {\n        let distance = maqueen.ultrasonic(maqueen.DistanceUnit.Centimeters)\n\n        // --- Hindernis-Erkennung ---\n        if (distance > 0 && distance < stopDistance) {\n            if (!obstacle) {\n                obstacle = true\n                maqueen.motorStop(maqueen.Motors.All)\n                rgb.setColor(rgb.colors(Red))\n                basic.showIcon(IconNames.No)\n                music.playTone(Note.C5, music.beat(BeatFraction.Quarter))\n            }\n            return\n        } else if (obstacle && distance >= stopDistance) {\n            // Weg wieder frei\n            obstacle = false\n            basic.showIcon(IconNames.Triangle)\n        }\n\n        // --- Linienverfolgung ---\n        if (!obstacle) {\n            let leftBright = maqueen.readPatrol(maqueen.Patrol.PatrolLeft, maqueen.Brightness.Bright)\n            let rightBright = maqueen.readPatrol(maqueen.Patrol.PatrolRight, maqueen.Brightness.Bright)\n            let error = 0\n\n            if (leftBright && !rightBright) {\n                // Linie unter linkem Sensor → nach rechts\n                error = -1\n                basic.showArrow(ArrowNames.East)\n                rgb.setColor(rgb.colors(Blue))\n            } else if (!leftBright && rightBright) {\n                // Linie unter rechtem Sensor → nach links\n                error = 1\n                basic.showArrow(ArrowNames.West)\n                rgb.setColor(rgb.colors(Yellow))\n            } else if (!leftBright && !rightBright) {\n                // Beide dunkel (Linie verloren) → Stop kurz oder Korrektur\n                basic.showIcon(IconNames.Question)\n                rgb.setColor(rgb.colors(Purple))\n                error = 0\n            } else {\n                // Beide hell → Geradeaus\n                basic.showArrow(ArrowNames.North)\n                rgb.setColor(rgb.colors(Green))\n                error = 0\n            }\n\n            // --- Geschwindigkeitsanpassung ---\n            let correction = Kp * error\n            let leftSpeed = baseSpeed - correction\n            let rightSpeed = baseSpeed + correction\n\n            leftSpeed = Math.constrain(leftSpeed, 0, 255)\n            rightSpeed = Math.constrain(rightSpeed, 0, 255)\n\n            maqueen.motorRun(maqueen.Motors.M1, maqueen.Dir.CW, leftSpeed)\n            maqueen.motorRun(maqueen.Motors.M2, maqueen.Dir.CW, rightSpeed)\n        }\n    } else {\n        maqueen.motorStop(maqueen.Motors.All)\n    }\n\n    basic.pause(20)\n})\n","README.md":"","pxt.json":"{\n    \"name\": \"Linefollower\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"v3\": \"*\",\n        \"MotionKit V2\": \"github:tinysuperlab/motionkitv2#v0.1.2\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1761839084641,"editorVersion":"7.1.31","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\",RJskyl*[lzEXaOG49{B\">running</variable><variable id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</variable><variable id=\"jv|W^Q)b1=VfHF0h7-Uq\">distance</variable><variable id=\"9xTf6/1UN{TIaEsV^=GW\">stopDistance</variable><variable id=\"aPRz[Ub/h7^3O(9#+0Rz\">baseSpeed</variable><variable id=\"i2Age]X{ZM|9AxFW/H+=\">leftBright</variable><variable id=\"vb6x/:NnA1:@yEY:c$w;\">rightBright</variable><variable id=\"r.d@O*@_BKT%L$L5-2:}\">error</variable><variable id=\"l!8Mtl):WPk_~dAc]uub\">correction</variable><variable id=\"bDoQ#(sEP^:*3WHlsUV7\">Kp</variable><variable id=\"/I/bf;l@[nm$}P[sk63N\">leftSpeed</variable><variable id=\"$I@7f)%f5Sgq?.(Kq[Gk\">rightSpeed</variable><variable id=\"WX6m/Y0@Ur+Tk]gyCL5C\">accelStep</variable><variable id=\"N}v$iLITi6b$]+3a:}x(\">accelDelay</variable></variables><comment x=\"2471.109375\" y=\"20\" w=\"480\" h=\"120\">\nCalliope Mini V3 + MotionKit V2 (Maqueen-kompatibel)\n</comment><comment x=\"20\" y=\"2643\" w=\"480\" h=\"120\">\nLinefollower mit Ultraschall-Stopp, Unterbodenbeleuchtung und sanftem Wiederanfahren\n</comment><comment x=\"545\" y=\"2643\" w=\"200\" h=\"120\">\nTaste A = Start/Stop\n</comment><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"aPRz[Ub/h7^3O(9#+0Rz\">baseSpeed</field><comment pinned=\"false\" h=\"80\" w=\"160\">Grundgeschwindigkeit (0–255)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">60</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"bDoQ#(sEP^:*3WHlsUV7\">Kp</field><comment pinned=\"false\" h=\"80\" w=\"160\">Regelverstärkung</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"9xTf6/1UN{TIaEsV^=GW\">stopDistance</field><comment pinned=\"false\" h=\"80\" w=\"160\">Stopp-Distanz in cm</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">15</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"WX6m/Y0@Ur+Tk]gyCL5C\">accelStep</field><comment pinned=\"false\" h=\"80\" w=\"160\">Schrittgröße beim Beschleunigen</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"N}v$iLITi6b$]+3a:}x(\">accelDelay</field><comment pinned=\"false\" h=\"80\" w=\"160\">Zeit zwischen Beschleunigungsschritten (ms)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"400\" y=\"20\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Zeit zwischen Beschleunigungsschritten (ms)\n---------- Start / Stop ----------</comment><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\",RJskyl*[lzEXaOG49{B\">running</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",RJskyl*[lzEXaOG49{B\">running</field></block></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",RJskyl*[lzEXaOG49{B\">running</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Triangle</field><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Grün</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0x00ff00</field></shadow></value></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"maqueen_motorStop\"><field name=\"motors\">maqueen.Motors.All</field><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Square</field><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">LEDs aus</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0x000000</field></shadow></value></block></next></block></next></block></statement></block></next></block></statement></block><block type=\"device_forever\" x=\"870\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- Hauptprogramm ----------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",RJskyl*[lzEXaOG49{B\">running</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"jv|W^Q)b1=VfHF0h7-Uq\">distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"maqueen_ultrasonic\"><field name=\"unit\">maqueen.DistanceUnit.Centimeters</field></block></value><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">--- Hindernis erkannt ---</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"jv|W^Q)b1=VfHF0h7-Uq\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"jv|W^Q)b1=VfHF0h7-Uq\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"9xTf6/1UN{TIaEsV^=GW\">stopDistance</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"maqueen_motorStop\"><field name=\"motors\">maqueen.Motors.All</field><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Rot</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0xff0000</field></shadow></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.No</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><next><block type=\"device_play_note\"><value name=\"note\"><shadow type=\"device_note\"><field name=\"name\">523</field></shadow></value><value name=\"duration\"><shadow type=\"device_beat\"><field name=\"fraction\">BeatFraction.Quarter</field></shadow></value></block></next></block></next></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"jv|W^Q)b1=VfHF0h7-Uq\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"9xTf6/1UN{TIaEsV^=GW\">stopDistance</field></block></value></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field><comment pinned=\"false\" h=\"80\" w=\"160\">--- Weg frei: sanftes Wiederanfahren ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Triangle</field><next><block type=\"function_call\"><mutation name=\"smoothStart\" functionid=\"TS5@|tB;2k=3Z(d0;8l*\"><arg name=\"targetSpeed\" id=\"wplubuywesm098nopasz\" type=\"number\"></arg></mutation><value name=\"wplubuywesm098nopasz\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aPRz[Ub/h7^3O(9#+0Rz\">baseSpeed</field></block></value></block></next></block></next></block></statement><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">--- Linienverfolgung ---</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"i2Age]X{ZM|9AxFW/H+=\">leftBright</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"maqueen_readPatrol\"><field name=\"patrol\">maqueen.Patrol.PatrolLeft</field><field name=\"brightness\">maqueen.Brightness.Bright</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vb6x/:NnA1:@yEY:c$w;\">rightBright</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"maqueen_readPatrol\"><field name=\"patrol\">maqueen.Patrol.PatrolRight</field><field name=\"brightness\">maqueen.Brightness.Bright</field></block></value><next><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"i2Age]X{ZM|9AxFW/H+=\">leftBright</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vb6x/:NnA1:@yEY:c$w;\">rightBright</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"r.d@O*@_BKT%L$L5-2:}\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Linie unter linkem Sensor → nach rechts</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.East</field></shadow></value><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Blau</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0x0000ff</field></shadow></value></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"i2Age]X{ZM|9AxFW/H+=\">leftBright</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vb6x/:NnA1:@yEY:c$w;\">rightBright</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"r.d@O*@_BKT%L$L5-2:}\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Linie unter rechtem Sensor → nach links</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.West</field></shadow></value><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Gelb</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0xffff00</field></shadow></value></block></next></block></next></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"i2Age]X{ZM|9AxFW/H+=\">leftBright</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vb6x/:NnA1:@yEY:c$w;\">rightBright</field></block></value></block></value></block></value><statement name=\"DO2\"><block type=\"variables_set\"><field name=\"VAR\" id=\"r.d@O*@_BKT%L$L5-2:}\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Linie verloren → langsam suchen</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Confused</field><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Lila</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0xff00ff</field></shadow></value><next><block type=\"maqueen_motorRun\"><field name=\"index\">maqueen.Motors.All</field><field name=\"direction\">maqueen.Dir.CW</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">30</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"r.d@O*@_BKT%L$L5-2:}\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Beide hell → Geradeaus</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.North</field></shadow></value><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Grün</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0x00ff00</field></shadow></value></block></next></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"l!8Mtl):WPk_~dAc]uub\">correction</field><comment pinned=\"false\" h=\"80\" w=\"160\">--- Regelung ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"bDoQ#(sEP^:*3WHlsUV7\">Kp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"r.d@O*@_BKT%L$L5-2:}\">error</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/I/bf;l@[nm$}P[sk63N\">leftSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aPRz[Ub/h7^3O(9#+0Rz\">baseSpeed</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"l!8Mtl):WPk_~dAc]uub\">correction</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$I@7f)%f5Sgq?.(Kq[Gk\">rightSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aPRz[Ub/h7^3O(9#+0Rz\">baseSpeed</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"l!8Mtl):WPk_~dAc]uub\">correction</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/I/bf;l@[nm$}P[sk63N\">leftSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_constrain_value\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/I/bf;l@[nm$}P[sk63N\">leftSpeed</field></block></value><value name=\"low\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"high\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$I@7f)%f5Sgq?.(Kq[Gk\">rightSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_constrain_value\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"$I@7f)%f5Sgq?.(Kq[Gk\">rightSpeed</field></block></value><value name=\"low\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"high\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"maqueen_motorRun\"><field name=\"index\">maqueen.Motors.M1</field><field name=\"direction\">maqueen.Dir.CW</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/I/bf;l@[nm$}P[sk63N\">leftSpeed</field></block></value><next><block type=\"maqueen_motorRun\"><field name=\"index\">maqueen.Motors.M2</field><field name=\"direction\">maqueen.Dir.CW</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"$I@7f)%f5Sgq?.(Kq[Gk\">rightSpeed</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"maqueen_motorStop\"><field name=\"motors\">maqueen.Motors.All</field></block></statement><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">20</field></shadow></value></block></next></block></statement></block><block type=\"function_definition\" x=\"1805\" y=\"20\"><mutation name=\"smoothStart\" functionid=\"TS5@|tB;2k=3Z(d0;8l*\"><arg name=\"targetSpeed\" id=\"wplubuywesm098nopasz\" type=\"number\"></arg></mutation><field name=\"function_name\">smoothStart</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- Sanftes Beschleunigen ----------</comment><value name=\"wplubuywesm098nopasz\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">targetSpeed</field></block></value><statement name=\"STACK\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"for (let speed = 0; speed &lt;= targetSpeed; speed += accelStep) {\" line1=\"        maqueen.motorRun(maqueen.Motors.All, maqueen.Dir.CW, speed)\" line2=\"        maqueen.setColor(0x00ff00)\" line3=\"        basic.pause(accelDelay)\" line4=\"    }\" numlines=\"5\"></mutation></block></statement></block></xml>","main.ts":"","README.md":"","pxt.json":"{\n    \"name\": \"Linefollower\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"v3\": \"*\",\n        \"MotionKit V2\": \"github:tinysuperlab/motionkitv2#v0.1.2\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}},{"timestamp":1761896151274,"editorVersion":"7.1.31","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\",RJskyl*[lzEXaOG49{B\">running</variable><variable id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</variable><variable id=\"jv|W^Q)b1=VfHF0h7-Uq\">distance</variable><variable id=\"9xTf6/1UN{TIaEsV^=GW\">stopDistance</variable><variable id=\"aPRz[Ub/h7^3O(9#+0Rz\">baseSpeed</variable><variable id=\"i2Age]X{ZM|9AxFW/H+=\">leftBright</variable><variable id=\"vb6x/:NnA1:@yEY:c$w;\">rightBright</variable><variable id=\"r.d@O*@_BKT%L$L5-2:}\">error</variable><variable id=\"l!8Mtl):WPk_~dAc]uub\">correction</variable><variable id=\"bDoQ#(sEP^:*3WHlsUV7\">Kp</variable><variable id=\"/I/bf;l@[nm$}P[sk63N\">leftSpeed</variable><variable id=\"$I@7f)%f5Sgq?.(Kq[Gk\">rightSpeed</variable><variable id=\"WX6m/Y0@Ur+Tk]gyCL5C\">accelStep</variable><variable id=\"N}v$iLITi6b$]+3a:}x(\">accelDelay</variable></variables><comment x=\"2451\" y=\"0\" w=\"480\" h=\"120\">\nCalliope Mini V3 + MotionKit V2 (Maqueen-kompatibel)\n</comment><comment x=\"0\" y=\"2623\" w=\"480\" h=\"120\">\nLinefollower mit Ultraschall-Stopp, Unterbodenbeleuchtung und sanftem Wiederanfahren\n</comment><comment x=\"525\" y=\"2623\" w=\"200\" h=\"120\">\nTaste A = Start/Stop\n</comment><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"aPRz[Ub/h7^3O(9#+0Rz\">baseSpeed</field><comment pinned=\"false\" h=\"80\" w=\"160\">Grundgeschwindigkeit (0–255)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">60</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"bDoQ#(sEP^:*3WHlsUV7\">Kp</field><comment pinned=\"false\" h=\"80\" w=\"160\">Regelverstärkung</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">25</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"9xTf6/1UN{TIaEsV^=GW\">stopDistance</field><comment pinned=\"false\" h=\"80\" w=\"160\">Stopp-Distanz in cm</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">15</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"WX6m/Y0@Ur+Tk]gyCL5C\">accelStep</field><comment pinned=\"false\" h=\"80\" w=\"160\">Schrittgröße beim Beschleunigen</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"N}v$iLITi6b$]+3a:}x(\">accelDelay</field><comment pinned=\"false\" h=\"80\" w=\"160\">Zeit zwischen Beschleunigungsschritten (ms)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"380\" y=\"0\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Zeit zwischen Beschleunigungsschritten (ms)\n---------- Start / Stop ----------</comment><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\",RJskyl*[lzEXaOG49{B\">running</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",RJskyl*[lzEXaOG49{B\">running</field></block></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",RJskyl*[lzEXaOG49{B\">running</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Triangle</field><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Grün</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0x00ff00</field></shadow></value></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"maqueen_motorStop\"><field name=\"motors\">maqueen.Motors.All</field><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Square</field><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">LEDs aus</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0x000000</field></shadow></value></block></next></block></next></block></statement></block></next></block></statement></block><block type=\"device_forever\" x=\"850\" y=\"0\"><comment pinned=\"false\" h=\"80\" w=\"160\">---------- Hauptprogramm ----------</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",RJskyl*[lzEXaOG49{B\">running</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"jv|W^Q)b1=VfHF0h7-Uq\">distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"maqueen_ultrasonic\"><field name=\"unit\">maqueen.DistanceUnit.Centimeters</field></block></value><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">--- Hindernis erkannt ---</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"jv|W^Q)b1=VfHF0h7-Uq\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"jv|W^Q)b1=VfHF0h7-Uq\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"9xTf6/1UN{TIaEsV^=GW\">stopDistance</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"maqueen_motorStop\"><field name=\"motors\">maqueen.Motors.All</field><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Rot</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0xff0000</field></shadow></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.No</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><next><block type=\"device_play_note\"><value name=\"note\"><shadow type=\"device_note\"><field name=\"name\">523</field></shadow></value><value name=\"duration\"><shadow type=\"device_beat\"><field name=\"fraction\">BeatFraction.Quarter</field></shadow></value></block></next></block></next></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"jv|W^Q)b1=VfHF0h7-Uq\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"9xTf6/1UN{TIaEsV^=GW\">stopDistance</field></block></value></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field><comment pinned=\"false\" h=\"80\" w=\"160\">--- Weg frei: sanftes Wiederanfahren ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Triangle</field><next><block type=\"function_call\"><mutation name=\"smoothStart\" functionid=\"TS5@|tB;2k=3Z(d0;8l*\"><arg name=\"targetSpeed\" id=\"wplubuywesm098nopasz\" type=\"number\"></arg></mutation><value name=\"wplubuywesm098nopasz\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aPRz[Ub/h7^3O(9#+0Rz\">baseSpeed</field></block></value></block></next></block></next></block></statement><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">--- Linienverfolgung ---</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uE[VH/N@7$tw(/Sa?/:1\">obstacle</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"i2Age]X{ZM|9AxFW/H+=\">leftBright</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"maqueen_readPatrol\"><field name=\"patrol\">maqueen.Patrol.PatrolLeft</field><field name=\"brightness\">maqueen.Brightness.Bright</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vb6x/:NnA1:@yEY:c$w;\">rightBright</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"maqueen_readPatrol\"><field name=\"patrol\">maqueen.Patrol.PatrolRight</field><field name=\"brightness\">maqueen.Brightness.Bright</field></block></value><next><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"i2Age]X{ZM|9AxFW/H+=\">leftBright</field></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vb6x/:NnA1:@yEY:c$w;\">rightBright</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"r.d@O*@_BKT%L$L5-2:}\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Linie unter linkem Sensor → nach rechts</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.East</field></shadow></value><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Blau</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0x0000ff</field></shadow></value></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"i2Age]X{ZM|9AxFW/H+=\">leftBright</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vb6x/:NnA1:@yEY:c$w;\">rightBright</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"r.d@O*@_BKT%L$L5-2:}\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Linie unter rechtem Sensor → nach links</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.West</field></shadow></value><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Gelb</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0xffff00</field></shadow></value></block></next></block></next></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"i2Age]X{ZM|9AxFW/H+=\">leftBright</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vb6x/:NnA1:@yEY:c$w;\">rightBright</field></block></value></block></value></block></value><statement name=\"DO2\"><block type=\"variables_set\"><field name=\"VAR\" id=\"r.d@O*@_BKT%L$L5-2:}\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Linie verloren → langsam suchen</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_icon\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"i\">IconNames.Confused</field><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Lila</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0xff00ff</field></shadow></value><next><block type=\"maqueen_motorRun\"><field name=\"index\">maqueen.Motors.All</field><field name=\"direction\">maqueen.Dir.CW</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">30</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"return\" numlines=\"1\"></mutation></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"r.d@O*@_BKT%L$L5-2:}\">error</field><comment pinned=\"false\" h=\"80\" w=\"160\">Beide hell → Geradeaus</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.North</field></shadow></value><next><block type=\"maqueen_setColor\"><comment pinned=\"false\" h=\"80\" w=\"160\">Grün</comment><value name=\"color\"><shadow type=\"colorNumberPicker\"><field name=\"value\">0x00ff00</field></shadow></value></block></next></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"l!8Mtl):WPk_~dAc]uub\">correction</field><comment pinned=\"false\" h=\"80\" w=\"160\">--- Regelung ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"bDoQ#(sEP^:*3WHlsUV7\">Kp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"r.d@O*@_BKT%L$L5-2:}\">error</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/I/bf;l@[nm$}P[sk63N\">leftSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aPRz[Ub/h7^3O(9#+0Rz\">baseSpeed</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"l!8Mtl):WPk_~dAc]uub\">correction</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$I@7f)%f5Sgq?.(Kq[Gk\">rightSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aPRz[Ub/h7^3O(9#+0Rz\">baseSpeed</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"l!8Mtl):WPk_~dAc]uub\">correction</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/I/bf;l@[nm$}P[sk63N\">leftSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_constrain_value\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/I/bf;l@[nm$}P[sk63N\">leftSpeed</field></block></value><value name=\"low\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"high\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$I@7f)%f5Sgq?.(Kq[Gk\">rightSpeed</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_constrain_value\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"$I@7f)%f5Sgq?.(Kq[Gk\">rightSpeed</field></block></value><value name=\"low\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"high\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"maqueen_motorRun\"><field name=\"index\">maqueen.Motors.M1</field><field name=\"direction\">maqueen.Dir.CW</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/I/bf;l@[nm$}P[sk63N\">leftSpeed</field></block></value><next><block type=\"maqueen_motorRun\"><field name=\"index\">maqueen.Motors.M2</field><field name=\"direction\">maqueen.Dir.CW</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"$I@7f)%f5Sgq?.(Kq[Gk\">rightSpeed</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"maqueen_motorStop\"><field name=\"motors\">maqueen.Motors.All</field></block></statement><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">20</field></shadow></value></block></next></block></statement></block><block type=\"function_definition\" x=\"1785\" y=\"0\"><mutation name=\"smoothStart\" functionid=\"TS5@|tB;2k=3Z(d0;8l*\"><arg name=\"targetSpeed\" id=\"wplubuywesm098nopasz\" type=\"number\"></arg></mutation><field name=\"function_name\">smoothStart</field><comment pinned=\"false\" h=\"80\" w=\"160\">---------- Sanftes Beschleunigen ----------</comment><value name=\"wplubuywesm098nopasz\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">targetSpeed</field></block></value><statement name=\"STACK\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"for (let speed = 0; speed &lt;= targetSpeed; speed += accelStep) {\" line1=\"        maqueen.motorRun(maqueen.Motors.All, maqueen.Dir.CW, speed)\" line2=\"        maqueen.setColor(0x00ff00)\" line3=\"        basic.pause(accelDelay)\" line4=\"    }\" numlines=\"5\"></mutation></block></statement></block></xml>","main.ts":"","README.md":"","pxt.json":"{\n    \"name\": \"Linefollower\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"v3\": \"*\",\n        \"MotionKit V2\": \"github:tinysuperlab/motionkitv2#v0.1.2\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}}],"shares":[],"lastSaveTime":1761896151287}